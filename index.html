<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Smart Credit Ledger Management System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-mark">SCL</div>
        <div>
          <div class="brand-title">Smart Credit</div>
          <div class="brand-sub">Ledger System</div>
        </div>
      </div>
      <nav class="nav" aria-label="Primary">
        <button class="nav-link active" data-target="dashboard">Dashboard</button>
        <button class="nav-link" data-target="customers">Customers</button>
        <button class="nav-link" data-target="credit">Credit Entry</button>
        <button class="nav-link" data-target="payments">Payments</button>
        <button class="nav-link" data-target="overdue">Overdue Tracking</button>
        <button class="nav-link" data-target="analytics">Analytics</button>
        <button class="nav-link" data-target="risk">Risk Analysis</button>
        <button class="nav-link" data-target="ledger">Ledger</button>
      </nav>
    </aside>

    <div class="content">
      <header class="topbar">
        <div>
          <h1>Smart Credit Ledger Management</h1>
          <!-- <p class="muted">Desktop prototype for SME credit, payments, overdue and reminders.</p> -->
        </div>
        <div class="pill">USER</div>
      </header>

      <main class="main">
        <!-- Dashboard -->
        <section id="dashboard" class="section active" aria-labelledby="dashboard-title">
          <div class="section-head">
            <div>
              <h2 id="dashboard-title">Dashboard</h2>
              <p class="muted">Overview of customers, credits, payments, and recovery trends.</p>
            </div>
            <div class="section-actions">
              <button class="btn primary" data-target="credit" data-nav>New Credit</button>
            </div>
          </div>

          <div class="cards-grid">
            <div class="card kpi">
              <div class="label">Total Customers</div>
              <div class="value" id="kpiCustomers">0</div>
              <div class="hint" id="kpiNewCustomers">0 new this week</div>
            </div>
            <div class="card kpi">
              <div class="label">Credit Issued</div>
              <div class="value" id="kpiCredit">0</div>
              <div class="hint">All-time credit extended</div>
            </div>
            <div class="card kpi">
              <div class="label">Payments Collected</div>
              <div class="value" id="kpiCollected">0</div>
              <div class="hint">Partial + full payments</div>
            </div>
            <div class="card kpi">
              <div class="label">Outstanding</div>
              <div class="value" id="kpiOutstanding">0</div>
              <div class="hint" id="kpiOverdue">0 overdue flagged</div>
            </div>
          </div>

          <div class="grid-2">
            <div class="card panel">
              <div class="panel-head">
                <div>
                  <div class="title">Credit vs Payments</div>
                  <div class="muted">Static demo data, last 6 months</div>
                </div>
              </div>
              <div class="chart">
                <canvas id="chartTrendCanvas"></canvas>
              </div>
            </div>
            <div class="card panel">
              <div class="panel-head">
                <div>
                  <div class="title">Monthly Recovery Performance</div>
                  <div class="muted">Collection rate per month</div>
                </div>
              </div>
              <div class="chart">
                <canvas id="chartRecoveryCanvas"></canvas>
              </div>
            </div>
          </div>
        </section>

        <!-- Customers -->
        <section id="customers" class="section" aria-labelledby="customers-title">
          <div class="section-head">
            <div>
              <h2 id="customers-title">Customer Management</h2>
              <p class="muted">Add and maintain customer credit profiles.</p>
            </div>
            <button class="btn primary" id="btnAddCustomer">Add Customer</button>
          </div>

          <div class="card panel">
            <form id="customerForm" class="form" novalidate>
              <input type="hidden" id="custId" />
              <div class="form-grid">
                <label>Name<input type="text" id="custName" required /></label>
                <label>Phone<input type="text" id="custPhone" required /></label>
                <label>Address<input type="text" id="custAddress" /></label>
                <label>Credit Limit<input type="number" id="custLimit" min="0" step="50" required /></label>
                <label>Notes<input type="text" id="custNotes" /></label>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn primary" id="custSubmitBtn">Save Customer</button>
                <button type="button" class="btn ghost" id="btnResetCustomer">Clear</button>
              </div>
            </form>
          </div>

          <div class="card panel">
            <div class="panel-head">
              <div class="title">Customer Registry</div>
              <div class="muted">Includes risk tags and balances</div>
            </div>
            <table class="table" id="customerTable" aria-label="Customers">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Phone</th>
                  <th>Credit Limit</th>
                  <th>Balance</th>
                  <th>Due</th>
                  <th>Status</th>
                  <th>Notes</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Credit Entry -->
        <section id="credit" class="section" aria-labelledby="credit-title">
          <div class="section-head">
            <div>
              <h2 id="credit-title">Credit Transactions</h2>
              <p class="muted">Issue new credit entries with due dates.</p>
            </div>
          </div>

          <div class="card panel">
            <form id="creditForm" class="form" novalidate>
              <input type="hidden" id="creditId" />
              <div class="form-grid">
                <label>Customer<select id="creditCustomer"></select></label>
                <label>Amount<input type="number" id="creditAmount" min="0" step="10" required /></label>
                <label>Date<input type="date" id="creditDate" required /></label>
                <label>Due Date<input type="date" id="creditDue" required /></label>
                <label>Remarks<input type="text" id="creditRemarks" /></label>
                <div class="notice" id="limitNotice" hidden>Projected balance exceeds credit limit.</div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn primary" id="creditSubmitBtn">Add Credit</button>
                <button type="button" class="btn ghost" id="btnResetCredit">Clear</button>
              </div>
            </form>
          </div>

          <div class="card panel">
            <div class="panel-head">
              <div class="title">Open Credits</div>
              <div class="muted">Monitors amounts and due dates</div>
            </div>
            <table class="table" id="creditTable" aria-label="Credits">
              <thead>
                <tr>
                  <th>Customer</th>
                  <th>Amount</th>
                  <th>Issued</th>
                  <th>Due</th>
                  <th>Days Left</th>
                  <th>Note</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Payments -->
        <section id="payments" class="section" aria-labelledby="payments-title">
          <div class="section-head">
            <div>
              <h2 id="payments-title">Payment Management</h2>
              <p class="muted">Record partial or full payments and update balances.</p>
            </div>
          </div>

          <div class="card panel">
            <form id="paymentForm" class="form" novalidate>
              <input type="hidden" id="paymentId" />
              <div class="form-grid">
                <label>Customer<select id="paymentCustomer"></select></label>
                <label>Amount<input type="number" id="paymentAmount" min="0" step="10" required /></label>
                <label>Payment Date<input type="date" id="paymentDate" required /></label>
                <label>Type<select id="paymentType"><option>Partial</option><option>Full</option></select></label>
                <label>Method<select id="paymentMethod"><option>Bank</option><option>Cash</option><option>Card</option></select></label>
                <label>Note<input type="text" id="paymentNote" /></label>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn primary" id="paymentSubmitBtn">Add Payment</button>
                <button type="button" class="btn ghost" id="btnResetPayment">Clear</button>
              </div>
            </form>
          </div>

          <div class="card panel">
            <div class="panel-head">
              <div class="title">Payment Ledger</div>
              <div class="muted">History of payments by customer</div>
            </div>
            <table class="table" id="paymentTable" aria-label="Payments">
              <thead>
                <tr>
                  <th>Customer</th>
                  <th>Amount</th>
                  <th>Date</th>
                  <th>Type</th>
                  <th>Method</th>
                  <th>Note</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Overdue -->
        <section id="overdue" class="section" aria-labelledby="overdue-title">
          <div class="section-head">
            <div>
              <h2 id="overdue-title">Overdue Tracking</h2>
              <p class="muted">Buckets for 1–7, 8–30, and 30+ days late.</p>
            </div>
          </div>

          <div class="cards-grid narrow">
            <div class="card mini" id="bucket7">1–7 Days<span class="value">0</span></div>
            <div class="card mini" id="bucket30">8–30 Days<span class="value">0</span></div>
            <div class="card mini" id="bucket30p">30+ Days<span class="value">0</span></div>
          </div>

          <div class="card panel">
            <div class="panel-head">
              <div class="title">Overdue Items</div>
              <div class="muted">Color coded by severity</div>
            </div>
            <table class="table" id="overdueTable" aria-label="Overdue">
              <thead>
                <tr>
                  <th>Customer</th>
                  <th>Due Date</th>
                  <th>Days Overdue</th>
                  <th>Outstanding</th>
                  <th>Bucket</th>
                  <th>Reminder</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Analytics -->
        <section id="analytics" class="section" aria-labelledby="analytics-title">
          <div class="section-head">
            <div>
              <h2 id="analytics-title">Analytics & Reports</h2>
              <p class="muted">Static charts demonstrating reporting views.</p>
            </div>
          </div>

          <div class="cards-grid">
            <div class="card kpi">
              <div class="label">Total Dues</div>
              <div class="value" id="reportDues">0</div>
              <div class="hint">Current outstanding</div>
            </div>
            <div class="card kpi">
              <div class="label">Recovered</div>
              <div class="value" id="reportRecovered">0</div>
              <div class="hint">Collections to date</div>
            </div>
            <div class="card kpi">
              <div class="label">Recovery %</div>
              <div class="value" id="reportRecoveryRate">0%</div>
              <div class="hint">Payments / Credit</div>
            </div>
            <div class="card kpi">
              <div class="label">Reliability Median</div>
              <div class="value" id="reportReliability">0</div>
              <div class="hint">Risk-balanced score</div>
            </div>
          </div>

          <div class="grid-2">
            <div class="card panel">
              <div class="panel-head">
                <div class="title">Customer Reliability Distribution</div>
                <div class="muted">Scores grouped by grade</div>
              </div>
              <div class="chart">
                <canvas id="chartReliabilityPie"></canvas>
              </div>
            </div>
            <div class="card panel">
              <div class="panel-head">
                <div class="title">Overdue Trend</div>
                <div class="muted">Static multi-month trend</div>
              </div>
              <div class="chart">
                <canvas id="chartOverdueBar"></canvas>
              </div>
            </div>
          </div>
        </section>

        <!-- Risk Analysis -->
        <section id="risk" class="section" aria-labelledby="risk-title">
          <div class="section-head">
            <div>
              <h2 id="risk-title">Customer Risk Analysis</h2>
              <p class="muted">Reliability scores based on overdue days and utilization.</p>
            </div>
          </div>

          <div class="card panel">
            <div class="panel-head">
              <div class="title">Risk Scores</div>
              <div class="muted">Progress bars and explanations</div>
            </div>
            <table class="table" id="riskTable" aria-label="Risk">
              <thead>
                <tr>
                  <th>Customer</th>
                  <th>Score</th>
                  <th>Utilization</th>
                  <th>Overdue Days</th>
                  <th>Risk Tag</th>
                  <th>Reason</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

        <!-- Ledger -->
        <section id="ledger" class="section" aria-labelledby="ledger-title">
          <div class="section-head">
            <div>
              <h2 id="ledger-title">Ledger & Audit History</h2>
              <p class="muted">Chronological debit/credit trail with running balance.</p>
            </div>
          </div>

          <div class="card panel">
            <table class="table" id="ledgerTable" aria-label="Ledger">
              <thead>
                <tr>
                  <th>Timestamp</th>
                  <th>Customer</th>
                  <th>Type</th>
                  <th>Amount</th>
                  <th>Running Balance</th>
                  <th>Marker</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>

      </main>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
